# Next.js 라우터

- [용어](#용어)
- [App 라우터](#app-라우터)




<br />
<br />




## 용어

![App 라우터 구조](../src/images/nextjs-router-structure.png)




<br />
<br />




## App 라우터

- 파일 시스템 기반 라우터

  - `app` 폴더 하위의 폴더명이 `URL`의 경로가 됨

- `page` 라우터에서는 지원하지 않는 공유 레이아웃, 중첩 라우팅, 로딩 상태, 에러 처리 등을 지원

  - `layout.tsx`: 동일 폴더와 하위 폴더 페이지의 레이아웃을 정의

  - `page.tsx`: 페이지 UI

  - `loading.tsx`: 페이지 로딩 중에 표시되는 UI

  - `not-found.tsx`: 404 오류 페이지

  - `error.tsx`: 페이지의 오류를 처리

  - `global-error.tsx`: Root Layout에서 발생하는 오류를 처리

  - `route.ts`: API 엔드포인트 정의

<br />

### 페이지와 레이아웃

![App Router](../src/images/app-router-1.png)

- 보통은 `children`에 해당 세그먼트의 `page.tsx`가 렌더링이 되는데, 
  
  - 세그먼트 내에 `layout.tsx`가 있으면 `layout.tsx`가 먼저 렌더링된다.

![App Router](../src/images/app-router-2.png)

- 해당 세그먼트의 `layout.tsx`는 해당 세그먼트 안에서만 사용할 공통 레이아웃이 된다.

  - `layout.tsx`에서는 해당 세그먼트 안에 있는 세그먼트들의 `page.tsx`를 `children`으로 전달 받아 렌더링한다.

![App Router](../src/images/app-router-3.png)
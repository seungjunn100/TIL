# HTTP 통신과 Ajax - Fetch

- [Fetch API를 이용한 렌더링]()




<br />
<br />




## Fetch API를 이용한 렌더링

![Fetch API를 이용한 렌더링](../src/images/board-fetch-render.png)

### BoardInfo 컴포넌트

```tsx
function BoardInfo() {
  const [ data, setData ] = useState<BoardInfoView | null>(null);
  const [ isLoading, setIsLoading ] = useState(true);
  const [ error, setError ] = useState<Error | null>(null);

  const requestInfo = async () => {
    try {
      setIsLoading(true);
      const response = await fetch('https://fesp-api.koyeb.app/market/posts/6', {
        headers: {
          'client-id': 'openmarket',
        }
      });

      const jsonBody: ResData<BoardInfoRes> = await response.json();
      console.log(jsonBody);

      if (jsonBody.ok) {
        setData(jsonBody.item);
        setError(null);
      } else {
        throw new Error(jsonBody.message);
      }
    } catch(err) {
      setError(err as Error);
      setData(null);
    } finally {
      setIsLoading(false);
    }
  };

  useEffect(() => {
    requestInfo();
  }, []);

  return (
    <>
      { isLoading && <p>로딩중...</p> }

      { error && <p>{ error.message }</p> }

      {
        data && 
        <>
          <h2>{ data.title }</h2>
          <p>{ data.content }</p>
        </>
      }

      <CommentList />
    </>
  );
}
```

- `Fetch API`를 통해 

<br />

### CommentList 컴포넌트

<br />

### CommentNew 컴포넌트

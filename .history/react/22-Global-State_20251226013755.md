# 전역 상태 관리

- [전역 상태 관리란](#전역-상태-관리란)
- [전역 상태 관리 사용 사례](#전역-상태-관리-사용-사례)
- [전역 상태 관리 라이브러리 선택 기준](#전역-상태-관리-라이브러리-선택-기준)
- [전역 상태 관리와 Context API의 차이점](#전역-상태-관리와-context-api의-차이점)




<br />
<br />




## 전역 상태 관리란

- 리액트 기본 상태 관리는 `useState`와 `useReducer` 훅을 사용해 컴포넌트 내부의 상태를 관리할 수 있다.

- 컴포넌트 내부에서만 관리하므로 다른 컴포넌트와 상태를 공유하려면 공통 부모에서 상태 관리를 해주어야한다.

  - `props`를 여러 단계로 내려야 하는 `props drilling`이 발생한다.

  - 공통 부모의 상태가 바뀌면, 하위의 컴포넌트들이 상태를 전달만 하고 쓰지 않아도 리렌더링이 발생하게된다.

- 하지만, 여러 컴포넌트에서 공유해야 하는 상태를 한 곳에 두고 상태를 변경하면 공유된 컴포넌트만 리렌더링되도록 전역에서 상태 관리를 할 수 있다.

- 전역 상태 관리를 직접 구현하고 관리하기 어렵기 때문에 주로 라이브러리를 사용한다.

  - 대표적인 라이브러리 `Redux`, `Jotai`, `Zustand`




<br />
<br />




## 전역 상태 관리 사용 사례

- 사용자 인증 정보

  - 로그인한 사용자의 정보에 따른 `UI` 렌더링
  
  - 사용자의 정보, 권한, 토큰 등을 여러 컴포넌트에서 참조해야 하므로 전역으로 관리하면 편리하다.

- 테마 설정

  - 모드에 따라 모든 컴포넌트의 `UI`가 업데이트 되므로 전역으로 관리하면 편리하다.

- 쇼핑 카트 관리

  - 상품을 추가, 삭제 등 여부에 따라 여러 페이지에서 접근가능해야 하므로 전역으로 관리하면 편하다.

- 특정 폼의 입력값이나 모달의 열림/닫힘 상태처럼 한두 개의 컴포넌트에서만 사용하는 로컬 상태는 굳이 전역으로 관리할 필요가 없다.




<br />
<br />




## 전역 상태 관리 라이브러리 선택 기준

### Redux / Redux Toolkit

- 상태 구조와 변경 규칙이 복잡한 비즈니스 로직을 포함할 때

- 로그인, 권한, 결제, 주문 흐름처럼 상태 변화 추적이 중요한 경우

- 팀원이 많고, 일관된 규칙과 구조가 필요한 협업 환경

- 상태 변경 과정을 명확하게 기록, 디버깅해야 할 때

#### 특징

- 상태 변경 흐름이 명확하고 예측 가능하다.

- 구조가 강제되어 유지보수에 유리하다.

- 초기 설정과 코드량은 상대적으로 많다.

<br />

### Zustand

- 전역 `UI` 상태(모달, 토스트, 테마, 카운트 등)가 중심일 때

- 빠르게 개발해야 하는 중소 규모 프로젝트

- `Context`의 리렌더링 문제를 피하고 싶을 때

- 전역 상태를 간단하고 직관적으로 사용하고 싶을 때

#### 특징

- `Context` 없이 전역 상태 관리가 가능하다.

- 필요한 상태만 구독하여 리렌더링을 최소화할 수 있다.

<br />

### Jotai

- 상태를 작은 단위로 쪼개서 관리하고 싶을 때

- `Context` + `useState` 패턴에 익숙한 경우

- 상태 간 의존성이 비교적 단순한 경우

- 리렌더링을 자연스럽게 최소화하고 싶을 때

#### 특징

<br />

### Context API

#### 특징



<br />
<br />




## 전역 상태 관리와 Context API의 차이점